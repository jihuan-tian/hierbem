kill(all)$

/* Relationship between Cartesian and spherical coordinate frames */
assume(theta >= 0, theta <= %pi);

x:r*cos(phi)*sin(theta);
y:r*sin(phi)*sin(theta);
z:r*cos(theta);

Juv : matrix([diff(x,theta), diff(x,phi)], [diff(y,theta), diff(y,phi)], [diff(z,theta), diff(z,phi)]);

G : trigsimp(transpose(Juv) . Juv);
sqrt(determinant(G));
