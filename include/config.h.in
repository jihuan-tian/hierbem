// Copyright (C) 2022-2025 Jihuan Tian <jihuan_tian@hotmail.com>
// Copyright (C) 2023-2025 Xiaozhe Wang <chaoslawful@gmail.com>
//
// This file is part of the HierBEM library.
//
// HierBEM is free software: you can use it, redistribute it and/or modify it
// under the terms of the GNU Lesser General Public License as published by the
// Free Software Foundation, either version 3 of the License, or (at your
// option) any later version. The full text of the license can be found in the
// file LICENSE at the top level directory of HierBEM.

/**
 * @file config.h
 * @brief Configurations for building the project.
 *
 * @date 2022-12-16
 * @author Jihuan Tian
 */
#ifndef HIERBEM_INCLUDE_CONFIG_H_
#define HIERBEM_INCLUDE_CONFIG_H_

#define HBEM_NS_OPEN \
  namespace HierBEM            \
  {
#define HBEM_NS_CLOSE }

// Define host-device attribute macro for different platforms
#ifdef __CUDACC__
// in CUDA compiler
#define HBEM_ATTR_HOST __host__
#define HBEM_ATTR_DEV __device__
#else
// in host compiler
#define HBEM_ATTR_HOST
#define HBEM_ATTR_DEV
#endif

#define ENABLE_DEBUG @HBEM_ENABLE_DEBUG@
/**
 * The higher the debug level, the more verbose the print out message.
 */
#define MESSAGE_LEVEL @HBEM_MESSAGE_LEVEL@
#define ENABLE_TIMER @HBEM_ENABLE_TIMER@
#define ENABLE_MATRIX_EXPORT @HBEM_ENABLE_MATRIX_EXPORT@
#define ENABLE_PRECONDITIONER_MATRIX_EXPORT @HBEM_ENABLE_PRECONDITIONER_MATRIX_EXPORT@
#define ENABLE_NVTX @HBEM_ENABLE_NVTX@
#define RANDOM_ACA @HBEM_RANDOM_ACA@
/**
 * In @p update tasks in H-LU and H-Cholesky for restricting work stealing:
 * - 1: use TBB arena
 * - 2: use TBB isolate
 * - 3: disable TBB arena and isolate
 */
#define ARENA_OR_ISOLATE_IN_LU_AND_CHOL @HBEM_ARENA_OR_ISOLATE_IN_LU_AND_CHOL@
/**
 * Maximum concurrency used for TBB arena in update tasks for H-LU and
 * H-Cholesky
 */
#define ARENA_MAX_CONCURRENCY_IN_LU_AND_CHOL @HBEM_ARENA_MAX_CONCURRENCY_IN_LU_AND_CHOL@
/**
 * Select the solution space for Laplace problem with Neumann boundary
 * condition.
 * - 1: H_{\ast}^{1/2}(\Gamma)
 * - 2: H_{\ast \ast}^{1/2}(\Gamma)
 */
#define HBEM_NEUMANN_SOLUTION_SPACE @HBEM_NEUMANN_SOLUTION_SPACE@

#endif // HIERBEM_INCLUDE_CONFIG_H_
